<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Select a Country</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body> -->

<!-- <div class="container mt-5">
  <h1 class="text-center">Choose a Country to Explore</h1> -->

  <!-- Country Dropdown -->
  <!-- <div class="row">
    <div class="col-md-6 offset-md-3">
      <label for="countrySelect">Select a country:</label>
      <select id="countrySelect" class="form-control">
        <option value="">Choose a country</option> -->
        <!-- Options will be dynamically populated here -->
      <!-- </select>
      <button class="btn btn-primary mt-3" onclick="goToAttractionsPage()">Explore Sites</button>
    </div>
  </div>
</div> -->

<!-- <script>
  // Fetch countries from REST Countries API and populate the dropdown
  fetch('https://restcountries.com/v3.1/all')
    .then(response => response.json())
    .then(data => {
      const countrySelect = document.getElementById('countrySelect');
      data.sort((a, b) => a.name.common.localeCompare(b.name.common));

      // Populate the dropdown with countries
      data.forEach(country => {
        const option = document.createElement('option');
        option.value = country.name.common;
        option.textContent = country.name.common;
        countrySelect.appendChild(option);
      });
    })
    .catch(error => console.error('Error fetching countries:', error)); -->

  <!-- // Function to redirect to the attractions page with the selected country
  function goToAttractionsPage() {
    const selectedCountry = document.getElementById('countrySelect').value;
    if (selectedCountry) {
      // Redirect to the attractions page with the country name as a query parameter
      window.location.href = `attractions.html?country=${encodeURIComponent(selectedCountry)}`;
    } else {
      alert('Please select a country.');
    }
  }
</script> -->
<!-- 
</body>
</html>  -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Explorer</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Vue 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- Axios -->
    <script src='https://unpkg.com/axios/dist/axios.min.js'></script>
    
    <style>
        body {
            margin: 0;
            position: relative; 
            overflow: hidden; 
        }

        .carousel-item {
            height: 100vh; 
            min-height: 70vh; 
            background-size: cover;
            background-position: center;
            z-index: 1; 
            background-color: #000;
        }

        .carousel-inner {
            z-index: 1; 
        }

        .title {
            text-align: center;
            color: white; 
            font-size: 70px;
            font-weight: bold;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.8);
            font-family: Georgia, 'Times New Roman', Times, serif;
            margin-bottom: 50px; 
        }

        .container {
            position: absolute; 
            z-index: 20; 
            width: 100%; 
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
        }

        .form-container {
            padding: 20px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.95); 
            z-index: 20; 
            position: relative; 
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4); 
            width: 100%; 
            max-width: 600px; 
            margin: 0 auto; 
        }


        #carouselBackground {
            z-index: 1; 
            opacity: 0.8;
        }

        .btn{
          background-color: #dcaa64d2;
          color: black;
          font-weight: bold;
        }

    </style>
</head>
<body>
    <div id="app">
    <div class="col-md-12 container">
        <h1 class="title">Choose Your Destination</h1>
        <div class="row justify-content-center">
            <div class="col-md-12 form-container">
                <form id="countryForm" @submit.prevent="submit">
                    <div class="form-group">
                        <label for="countrySelect">Select a Country to Explore:</label>
                        <input v-model="entry" @keyup="filterCountries()" type="text" placeholder="Where to?" class="form-control">
                        <select v-model='selectedCountry' class="form-control" id="countrySelect" size="5" @click="change">
                            <!-- <option value="">Where to?</option> -->
                            <option v-for="country in filteredCountries" @click="change(this.value)"> {{country}} </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="dateSelect">Dates:</label>
                        <div class="row">
                            <div class="col-md-6">
                                <input type="date" id="startDate" name="startDate" class="form-control" placeholder="Start Date">
                            </div>
                            <div class="col-md-6">
                                <input type="date" id="endDate" name="endDate" class="form-control" placeholder="End Date">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="budget">Budget:</label>
                        <div class="row">
                            <div class="col-md-6">
                                <input type="number" id="minBudget" name="minBudget" class="form-control" placeholder="Min Budget">
                            </div>
                            <div class="col-md-6">
                                <input type="number" id="maxBudget" name="maxBudget" class="form-control" placeholder="Max Budget">
                            </div>
                        </div>
                    </div>
                    <button @click='submit()' type="submit" class="btn btn-block">Start Planning</button>
                </form>
            </div>
        </div>
    </div>

    <div id="carouselBackground" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
          <div class="carousel-item active" style="background-image: url('countryPics/colosseum.jpg');"></div>
          <div class="carousel-item" style="background-image: url('countryPics/eiffel_tower.jpg');"></div>
          <div class="carousel-item" style="background-image: url('countryPics/kyoto_temples.jpg');"></div>
      </div>
      <!-- <a class="carousel-control-prev" href="#carouselBackground" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselBackground" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
      </a> -->
  </div>
</div>
  

    <script>

        const app = Vue.createApp({ 
        data() { 
            return { 
            countries: [],
            filteredCountries: [],
            selectedCountry: '',
            entry: ''
            };
        }, 
        mounted() { 
            this.fetchCountries();
        },
        methods: {
            async fetchCountries() {
                try {
                    let all = [];
                    const response = await axios.get('https://restcountries.com/v3.1/all');
                    // this.countries = response.data.map(country => country.name.common);
                    console.log('gsr');
                    for (let country of response.data) {
                        all.push(country.name.common);
                    }
                    this.countries = all;
                    this.filteredCountries = all;
                } 
                catch (error) {
                    console.error('Error fetching countries:', error);
                }; 
            },

            filterCountries() {
                if (!this.entry) {
                    this.filteredCountries = this.countries;
                }

                else {
                    let filtered = [];
                    for (let country of this.countries) {
                            if (country.toLowerCase().startsWith(this.entry.toLowerCase())) {
                                filtered.push(country);
                            }}
                    this.filteredCountries = filtered;
                }
            },

            submit() {
                window.location.href = 'attractions.html?country=' + this.entry; 
            },

            change() {
                this.entry = this.selectedCountry;
            }
        }
        });
        const vm = app.mount('#app');

    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" defer></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" defer></script>
</body>
</html>
